---
id: api-integration
title: API Integration
sidebar_position: 3
sidebar_label: API Integration
sidebar_class_name: sidebar-header-regular
description: Full details on how to integrate 1-Click Health with our API
slug: /1-click-health/guides/api-integration
toc_max_heading_level: 3
---

import TooltipWithDefaults from '@site/src/components/TooltipWithDefaults';
import Tip from '@site/src/components/Tip';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';
import SendSmsToUser from '@site/versioned_docs/version-2.1/reusables/send-sms-to-user.mdx';
import About1ClickSignupAdmonition from '@site/versioned_docs/version-2.1/reusables/about-1-click-signup-admonition.mdx';
import PrivacyFirstAdmonition from '@site/versioned_docs/version-2.1/reusables/privacy-first-admonition.mdx';
import IntegrationTypeAdmonition from '@site/versioned_docs/version-2.1/reusables/integration-type-admonition.mdx';
import SetupLoginToDashboard from '@site/versioned_docs/version-2.1/reusables/setup-login-to-dashboard.mdx';
import DevelopmentWorkAdmonition from '@site/versioned_docs/version-2.1/reusables/development-work-admonition.mdx';
import UseUserInputAdmonition from '@site/versioned_docs/version-2.1/reusables/use-user-input-admonition.mdx';
import HowToTestAdmonition from '@site/versioned_docs/version-2.1/reusables/how-to-test-admonition.mdx';
import BirthDateFormatAdmonition from '@site/versioned_docs/version-2.1/reusables/birth-date-format-admonition.mdx';
import Chip from '@mui/material/Chip';
import RecencyRequirementAdmonition from '@site/versioned_docs/version-2.1/reusables/recency-requirement-admonition.mdx';
import WhenStepIsNecessaryAdmonition from '@site/versioned_docs/version-2.1/reusables/when-step-is-necessary-admonition.mdx';
import ErrorExampleOce011 from '@site/versioned_docs/version-2.1/reusables/error-example-oce011.mdx';
import SandboxValidationAdmonition from '@site/versioned_docs/version-2.1/reusables/sandbox-validation-admonition.mdx';
import SequenceDiagramOneClickHealthAPI from '@site/versioned_docs/version-2.1/reusables/sequence-diagram-1-click-health-api.mdx';
import LocalTestingAdmonition from '@site/versioned_docs/version-2.1/reusables/local-testing-admonition.mdx';
import {
  CollapsibleGroup,
  CollapsibleSection,
  CollapsibleHeader,
} from '@site/src/components/Collapsible';
import ApiKeysAdmonition from '@site/versioned_docs/version-2.1/reusables/api-keys-admonition.mdx';
import AnchorOffset from '@site/src/components/AnchorOffset.jsx';
import SupportedPhoneNumbersAdmonition from '@site/versioned_docs/version-2.1/reusables/supported-phone-numbers-admonition.mdx';
import PoweredByGraphicVariantsForOneClickSignup from '@site/versioned_docs/version-2.1/reusables/powered-by-graphic-variants-for-1-click-signup.mdx';
import OCE011InclusiveOrAdmonition from '@site/versioned_docs/version-2.1/reusables/oce011-inclusive-or-admonition.mdx';
import Post1ClickHealthRequestBody from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-request-body.mdx';
import Post1ClickHealthResponseBody from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-response-body.mdx';
import SyncFromSandboxAdmonition from '@site/versioned_docs/version-2.1/reusables/sync-from-sandbox-admonition.mdx';
import MostProbablePlansAreListedFirstAdmonition from '@site/versioned_docs/version-2.1/reusables/most-probable-plans-are-listed-first-admonition.mdx';
import Post1ClickHealthRequestBodyExampleInputsFrom1ClickSignupWithoutUserEdits from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-request-body-inputs-from-1-click-signup-without-user-edits.mdx';
import Post1ClickHealthRequestBodyExampleInputsFrom1ClickSignupWithUserEdits from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-request-body-inputs-from-1-click-signup-with-user-edits.mdx';
import Post1ClickHealthRequestBodyExampleInputsFromManualSignupMinimalInputs from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-request-body-inputs-from-manual-signup-minimal-inputs.mdx';
import Post1ClickHealthRequestBodyExampleInputsFromManualSignupMaximalInputs from '@site/versioned_docs/version-2.1/reusables/post-1-click-health-request-body-inputs-from-manual-signup-maximal-inputs.mdx';

<table>
  <tr>
    <th>Time to Complete</th>
    <td>1-2 days</td>
  </tr>
  <tr>
    <th>Time to Test and Deploy</th>
    <td>1-1.5 weeks</td>
  </tr>
  <tr>
    <th>Skills Required</th>
    <td>Make API calls, build UX</td>
  </tr>
</table>

:::tip
**Complete the 1-Click Health [Setup](/1-click-health/guides/setup) guide before following this API Integration guide.**
:::

<SequenceDiagramOneClickHealthAPI />

<DevelopmentWorkAdmonition />


## 1. Collect inputs.

To start 1-Click Health for a user, you'll need to collect [input](/reference/data/inputs#1-click-health) user data: see [1-Click Health Inputs](/reference/data/inputs#1-click-health) for details. 

Only First Name, Last Name, and Birth Date are required, but the more inputs you provide, the higher coverage and accuracy will be. Because 1-Click Health is billed per attempt (not just per success), it's well worth collecting more inputs upfront.

:::tip
**We strongly recommend using [1-Click Signup](/1-click-signup) to collect these inputs!** With 1-Click Signup, you can collect _all_ of these inputs in less than 10 seconds, from as little as a user's phone number.
:::

{/* _See our [Demo](https://1-click.demo.verified.inc) for an example of this._ */}

**You'll also need to:**

<ol type='a'>
  <li>**[Include Verified consent language](#a-include-the-verified-consent-language).**</li>
  <li>**[Include a "Powered by Verified" graphic](#b-include-a-powered-by-verified-graphic).**</li>
</ol>

If you use 1-Click Signup to collect the inputs, you can put the consent language and graphic on the first screen (typically the [Phone](/1-click-signup/user-experience#phone) screen): see the first example below. If you instead ask the user to manually enter the inputs, you can put them on that screen: see the second and third examples below. _We recommend that you use a single screen with fields for each input you want to collect: see the [Info](/1-click-health/user-experience#info) screen of our User Experience guide for full details._ Here are examples:

<div class='three-column-grid-container'>
  <div class='three-column-grid-row'>
    <div class='three-column-grid-column'>
      ![](/img/1ch-ux-screens/phone-empty-with-health-insurance-language.png) _Verified consent language (the health insurance variant) on the first screen of 1-Click Signup_
      <br/>
      ![](/img/1ch-ux-screens/confirm-info-with-sex.png) _1-Click Signup can autofill all inputs for 1-Click Health!_
    </div>
    <div class='three-column-grid-column'>
      ![](/img/1ch-ux-screens/enter-info-minimal.png) _Verified consent language (the health insurance variant) on a manual entry screen, with minimal inputs_
    </div>
    <div class='three-column-grid-column'>
      ![](/img/1ch-ux-screens/enter-info-maximal.png) _Verified consent language (the health insurance variant) on a manual entry screen, with maximal inputs_
    </div>
  </div>
</div>


#### a. Include the Verified consent language.

Regulations require that users give informed consent, so you must use our consent language before you start the 1-Click Health flow. It can be included alongside or as part of other legal language you already use, but it must be displayed to the user — not just included in terms you link out to.

Use this language:

> By `{taking this action}`, I agree that [Verified](https://verified.inc) (`{Brand Name}`’s service provider) and its vendors may receive my personal info and provide `{Brand Name}` with more info about me, including my health insurance.

- **Replace `{taking this action}` with the action the user will take to start 1-Click Health.** For example:
  - If you start with 1-Click Signup, using a form with a phone number input that autosubmits (which [we recommend](/1-click-signup/user-experience#phone)), you should use "entering my phone number".
  - If you use a Continue button, you should use "clicking 'Continue'".
- **Link "Verified" to https://verified.inc and make it underlined and a different color than the rest of the text** (so the user knows it's a link).
- **Replace `{Brand Name}` with your brand name.**

Here's an example:

> By entering my phone number, I agree that [Verified](https://verified.inc) (Hooli’s service provider) and its vendors may receive my personal info and provide to Hooli more info about me, including my health insurance.

:::warning Modify Consent Language if Collecting SSNs
**If you use 1-Click Signup to autofill SSNs as an input for 1-Click Health, you need to have "including my social security number" in the consent language,** as described [here](/1-click-signup/guides/api-integration#a-include-the-verified-consent-language) in the 1-Click Signup API Integration guide. In this case, the consent language should be:

> By `{taking this action}`, I agree that [Verified](https://verified.inc) (`{Brand Name}`’s service provider) and its vendors may receive my personal info and provide `{Brand Name}` with more info about me, including my social security number and health insurance.

So, for example:
> By entering my phone number, I agree that [Verified](https://verified.inc) (Hooli’s service provider) and its vendors may receive my personal info and provide to Hooli more info about me, including my social security number and health insurance.
:::


#### b. Include a "Powered by Verified" graphic.

We require you to include a "Powered by Verified" graphic, which helps ensure the user gives legally valid consent for us to source data for them.

The graphic should be placed alongside the consent language.

We provide many different variants of the graphic, so you can choose the one that best fits your use case and the background color of your application:

<PoweredByGraphicVariantsForOneClickSignup />


## 2. Call `POST /1-click/health`.

Call [`POST /1-click/health`](/reference/api/endpoints#post-1-clickhealth):

<Post1ClickHealthRequestBody/>

**Inputs from 1-Click Signup:**

If you use 1-Click Signup to autofill inputs, you should include `identityUuid` as an input, using the value of `uuid` from the [response body of `POST /1-click`](/reference/api/endpoints#post-1-click-response) (which you call for 1-Click Signup).

If the user didn't edit any of the data autofilled by 1-Click Signup, you can include _only_ the `identityUuid`, and 1-Click Health will hydrate all of the relevant 1-Click Signup outputs as inputs:

<Post1ClickHealthRequestBodyExampleInputsFrom1ClickSignupWithoutUserEdits/>

If the user edited some of the data autofilled by 1-Click Signup, you should include the edited fields alongside the `identityUuid`, and 1-Click Health will hydrate the _rest_ of the 1-Click Signup outputs as inputs:

<Post1ClickHealthRequestBodyExampleInputsFrom1ClickSignupWithUserEdits/>

:::important
For object type inputs (Full Name and Address), you must include all "standard" fields, or you'll get an error:
- **Full Name:** You must include First Name and Last Name (but not Middle Name), even if the user only edited, for example, First Name. This is for clarity.
- **Address:** You must include Line 1, City, State, Zip Code, and Country (but not Line 2), even if the user edited, for example, Line 1. This is for clarity and to ensure that an invalid address isn't formed by implicitly combining edited and unedited pieces.
:::

:::tip
One of the reasons we strongly recommend using 1-Click Signup to autofill inputs for 1-Click Health is that _we can then hydrate inputs that are never exposed to you or the user,_ improving the success rate of 1-Click Health! The most important example concerns SSNs:

Most healthcare companies don't collect SSNs and therefore don't want to ask users to provide or confirm them. However, using SSNs as inputs for 1-Click Health can significantly improve success rates — because SSNs are de facto unique, static identifiers for most US adults.

If you use 1-Click Signup to autofill inputs for 1-Click Health, we can hydrate SSNs — never exposing them to you or the user — and then use them to source health insurance data. There are various restrictions on how and when we do this. (For example, we'll only use a hydrated SSN if a user doesn't significantly edit the rest of the autofilled 1-Click Signup data.) But this allows you to improve the success rate of 1-Click Health while never needing to ask for or process SSNs yourselves.

**This is huge advantage of using 1-Click Signup and 1-Click Health in combination.**
:::

**Inputs from manual signup:**

If you collect inputs from manual signup, there's no `identityUuid` to include:

<Post1ClickHealthRequestBodyExampleInputsFromManualSignupMinimalInputs/>

<Post1ClickHealthRequestBodyExampleInputsFromManualSignupMaximalInputs/>

<ApiKeysAdmonition />

:::important 1-Click Health is Asynchronous
1-Click _Signup_ is _synchronous_ (with almost all response times under 1 second), so you receive data directly in the response body of `POST /1-click`.

But **1-Click _Health_ is _asynchronous_,** because it takes longer to search for a user's health insurance plans across the large number of possible payers. **Response times are typically 10-25 seconds,** so you don't receive data in the response body of `POST /1-click/health` but rather via webhook or by polling `GET /1-click/health`. See [step 3](#3-receive-outputs) for details.
:::

The [response body](/reference/api/endpoints#post-1-click-health-response) will contain a `healthDataUuid` that identifies the 1-Click Health flow:

<Post1ClickHealthResponseBody/>

See [`POST /1-click/health`](/reference/api/endpoints#post-1-clickhealth) for details.


## 3. Receive outputs.

If you configured the [webhook](/1-click-health/guides/setup#webhook) setting in the Verified Dashboard, we'll send the 1-Click Health response as a [payload](/reference/webhooks#payload) to your webhook. 

:::tip
See the [Webhooks](/reference/webhooks) page for general details about how Verified handles webhooks.
:::

You can alternatively poll the [`GET /1-click/health`](/reference/api/endpoints#get-1-clickhealth) endpoint until you receive a response. To do so, repeatedly call `GET /1-click/health/{healthDataUuid}`, using the value of `healthDataUuid` from the response body of `POST /1-click/health`.

:::tip Data is Retrievable for 60 Minutes
**You can retrieve data for 60 minutes,** at which point it's deleted. If you need to retrieve the same data again, use [`GET /1-click/health`](/reference/api/endpoints#get-1-clickhealth) instead of `POST /1-click/health` so that a duplicate 1-Click Health event isn't created (and so you aren't billed twice).
:::

The response will contain a [`1ClickHealthEntity`](/reference/api/types#1clickhealthentity) (see this [example](/reference/api/types#example-1clickhealthentity)). There are two cases:

- **Success:** If we can source health insurance data for the user, the `1ClickHealthEntity` will contain `results` with one or more health insurance plans. <br/> → _Continue to [step 4](#4-optional-prompt-user-to-confirm)._
- **Failure:** Otherwise, the `1ClickHealthEntity` will contain `errors` indicating that the lookup failed. <br/> → _Fall back to a manual health insurance entry flow._

<MostProbablePlansAreListedFirstAdmonition/>


## 4. (optional) Prompt user to confirm.

**For each health insurance plan you might use for a user, you should consider displaying the Payer Name and Member ID for the user to confirm.** These are contained in `memberId` and `payer.name`, respectively, for a given plan within the `results` array of the [`1ClickHealthEntity`](/reference/api/types#1clickhealthentity).

You don't need to display the full X12 [EDI 271](https://x12.org/examples/005010x279) (Health Care Eligibility Benefit Response, contained in `edi_271`) — and you shouldn't, because it's not human readable!

<Admonition type="tip" title="We Recommend User Confirmation">
    1. **Transparency:** By displaying the user's data to them, you ensure they're aware of what data you've received about them.
    2. **Accuracy:** Although Verified provides _very_ high quality data, we can never guarantee all data will be perfectly accurate. By having the user confirm their data, you can better avoid inaccuracies. Depending on your use case, you may want to give the user the ability to edit their data.
</Admonition>

:::important Further Identity Verification is Required
Whether or not you prompt the user to confirm their insurance info, **you must further verify the user's identity before using that insurance info for billing.** For example, you can prompt the user to verify a government ID, to ensure that the inputs you used to source their insurance info match that ID.

**This is crucial to prevent insurance fraud,** since insurance info can be autofilled from as little as First Name, Last Name, and Birth Date inputs — which a bad actor can find easily.

We strongly recommend using 1-Click Signup to source inputs for 1-Click Health because, among other benefits, it deters fraud. However, even with 1-Click Signup, further identity verification is essential to ensure any insurance info you use for billing is accurate and associated with the correct user.
:::

<Admonition type="danger" title="Mask Member IDs">
    **We require you to mask Member IDs because they're particularly sensitive:**
    - **Mask at least 3 middle characters server side,** so the client only displays the starting and ending characters. This preserves privacy while making it easy for the user to confirm the value. _Note that Member IDs are alphanumeric and variable in length, so masking must be done thoughtfully. Email us at Support@Verified.inc if you need guidance._
    - **If you allow the user to edit the Member ID, clear the entire value when they start editing**, so they don't just edit visible characters (which could result in another valid Member ID, but one that isn't theirs).
</Admonition>

**We recommend that you:** 
<ol type="a">
    <li>**[Use a static display for view mode](#a-use-a-static-display-for-view-mode).**</li>
    <li>**[Use a form with autofilled inputs for edit mode](#b-use-a-form-with-autofilled-inputs-for-edit-mode).**</li>
    <li>**[Include information about where the data comes from](#c-include-information-about-where-the-data-comes-from).**</li>
</ol>

(See the [Info](/1-click-health/user-experience#info) screen of our User Experience guide for full details.) Here's an example:

<div class="three-column-grid-container">
    <div class="three-column-grid-row">
        <div class="three-column-grid-column">
            ![](/img/1ch-ux-screens/health-insurance-view-tooltip_hidden.png)
            *Static display for view mode, question mark button to see information about where data comes from*
        </div>
        <div class="three-column-grid-column">
            ![](/img/1ch-ux-screens/health-insurance-edit.png)
            *Form with autofilled inputs for edit mode, question mark button to see information about where data comes from*
        </div>
        <div class="three-column-grid-column">
            ![](/img/1ch-ux-screens/health-insurance-view-tooltip_visible.png)
            *Information about where data comes from*
        </div>
    </div>
</div>


#### a. Use a static display for view mode.

In edit mode, we recommend that you display the user's data statically and show an edit button that lets them go into edit mode. 

If you receive multiple health insurance plans (in the `results` array of the `1ClickHealthEntity`), you can display a dropdown of options. If the user goes into edit mode, you should use the selected value in the dropdown to autofill inputs.


#### b. Use a form with autofilled inputs for edit mode.

In edit mode, we recommend that you display the user's data using a form with autofilled inputs. 

You can enable or disable each input depending on whether you want the user to be able to edit the data it contains. The upside of allowing the user to edit data is that it allows them to correct any inaccuracies. The downside is that user input isn't verified and may make fraud more likely.


#### c. Include information about where the data comes from.

Including some information about where the data comes from helps users understand the magic of 1-Click Health and feel comfortable with it. We recommend this language:
> Verified autofills your info from trusted sources so you don’t have to enter it manually. It’s fast, safe, and secure.

<Admonition type="warning" title="You Must Verify User Identity">
    We cannot guarantee that autofilled health insurance data is accurate, especially if you sourced it using inputs not autofilled by 1-Click Signup. It's possible that the insurance a user submits is inaccurate. 

    So, **you must verify a user's identity in some other way before using their insurance.** This is an important step to prevent insurance inaccuracy or fraud – and to make sure you're paid by insurance!
</Admonition>

---


## Go Live!


### Request Approval

**When you're ready to go live, request approval for [Production](/reference/api/environments#production) access:**

1. Go to the **Brand Details** page for your brand in the Verified [Dashboard](https://dashboard.verified.inc).
2. Click the **Production** tab in the upper right, and make sure your brand settings are configured as you intend them to be.
3. Click the **Request Approval** button under the API Keys section.
4. Complete the **steps** listed in the dialog.
5. Click the **Submit Request** button.

<SyncFromSandboxAdmonition/>

In step 4, you'll be asked to confirm the following:

<input type='checkbox' id='legal' />
<label for='legal'>We've included the Verified consent language a "powered by Verified" graphic and  (see [step 1](#1-collect-inputs)).</label>
<br />
<input type='checkbox' id='keys' />
<label for='keys'>We’re using Verified API keys securely: server side, never client side.</label>
<br />
<input type='checkbox' id='ssns' />
<label for='ssns'>We’re masking Member IDs server side and only exposing the starting and ending characters client side.</label>
<br />
<input type='checkbox' id='testing' />
<label for='testing'>Our 1-Click Health flow is working end-to-end in [Sandbox](/reference/api/environments#sandbox).</label>
<br />
<br />

:::important
You'll also be prompted to share a link to your Sandbox integration and/or schedule a 15 minute call with us, so we can review your integration to see that it's compliant and working properly. Once we approve it, you'll have access to a Production API key on the Brand Details page.
:::

### Swap Sandbox for Production

**Once you have Production access, just swap Sandbox for Production:**

1. Swap your Sandbox API key for your Production API key.
2. Swap the [Sandbox base URL](/reference/api/environments#sandbox) for the [Production base URL](/reference/api/environments#production).

**Then you'll be live with 1-Click Health! ✅**